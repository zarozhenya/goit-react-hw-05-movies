"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[319],{68:function(n,e,t){t.d(e,{Bt:function(){return p},Mc:function(){return s},bI:function(){return l},wr:function(){return o},y:function(){return f}});var r=t(861),a=t(757),u=t.n(a),c=t(44),i="21a38995d1a0d82c48e261b573f88f7b";c.ZP.defaults.baseURL="https://api.themoviedb.org/3";var o=function(){var n=(0,r.Z)(u().mark((function n(){var e,t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("/trending/movie/day?api_key=".concat(i));case 2:return e=n.sent,t=e.data,n.abrupt("return",t.results);case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),s=function(){var n=(0,r.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("/movie/".concat(e,"?api_key=").concat(i,"&language=en-US"));case 2:return t=n.sent,n.abrupt("return",t.data);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),f=function(){var n=(0,r.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("/movie/".concat(e,"/credits?api_key=").concat(i,"&language=en-US"));case 2:return t=n.sent,n.abrupt("return",t.data.cast);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),p=function(){var n=(0,r.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("/movie/".concat(e,"/reviews?api_key=").concat(i,"&language=en-US&page=1"));case 2:return t=n.sent,n.abrupt("return",t.data.results);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),l=function(){var n=(0,r.Z)(u().mark((function n(e){var t;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.ZP.get("/search/movie?api_key=".concat(i,"&language=en-US&query=").concat(e,"&page=1&include_adult=false"));case 2:return t=n.sent,n.abrupt("return",t.data.results);case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()},174:function(n,e,t){t.d(e,{O:function(){return f}});var r,a=t(739),u=t(168),c=t(444),i=t(731),o=(0,c.ZP)(i.rU)(r||(r=(0,u.Z)(["\n  color: blue;\n"]))),s=t(184),f=function(n){var e=n.movies,t=(0,a.TH)();return(0,s.jsx)("ul",{children:e.map((function(n){var e=n.id,r=n.title;return(0,s.jsx)("li",{children:(0,s.jsx)(o,{to:"/movies/".concat(e),state:t,children:r})},e)}))})}},319:function(n,e,t){t.r(e),t.d(e,{default:function(){return h}});var r=t(885),a=t(68),u=t(705),c=t(184),i=function(n){var e=n.onFormSubmit;return(0,c.jsx)(u.J9,{initialValues:{query:""},onSubmit:function(n,t){var r=n.query,a=t.resetForm;e(r),a()},children:(0,c.jsxs)(u.l0,{children:[(0,c.jsx)(u.gN,{name:"query"}),(0,c.jsx)("button",{type:"Submit",children:"Search"})]})})},o=t(791),s=t(731),f=t(174),p="idle",l="pending",d="resolved",v="rejected",h=function(){var n=(0,o.useState)(p),e=(0,r.Z)(n,2),t=e[0],u=e[1],h=(0,o.useState)([]),m=(0,r.Z)(h,2),g=m[0],x=m[1],b=(0,s.lr)(),w=(0,r.Z)(b,2),y=w[0],k=w[1],Z=y.get("q");(0,o.useEffect)((function(){if(!Z)return u(p);u(l),(0,a.bI)(Z).then((function(n){x(n),0!==n.length?u(d):u(v)}))}),[Z]);return(0,c.jsxs)("main",{children:[(0,c.jsx)(i,{onFormSubmit:function(n){k(n?{q:n.trim().toLowerCase()}:{})}}),t===l&&(0,c.jsx)("p",{children:"loading..."}),t===v&&(0,c.jsxs)("p",{children:["No movies with '",Z,"' substring has been found."]}),t===d&&(0,c.jsx)(f.O,{movies:g})]})}}}]);
//# sourceMappingURL=319.ccded2bb.chunk.js.map